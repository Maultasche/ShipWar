# Development Plan

This is a plan with how I will proceed with the development of this application. I'm not yet certain how far down this list I will go. It's possible I may just declare it good enough if I'm not seeing any value from continuing it. The primary purpose is to practice what I know and learn new things.

1. Start with the game logic
	- This is where we will implement the basic game logic and unit tests
	- We should be able to take this logic and drop it into any kind of service or application
	- The core game logic should assume that the input is valid
2. Create the input validation module that sanitizes the input to the core game logic, returning appropriate error codes and messages for bad input.
3. Create the game management module that links the input validation module to the core game logic
	- This module connects input validation module to the core game logic and provides input and game event stream functionality as part of its interface. 
	- This will be the module that the game service will be using to interface with the game functionality.
4. Create the game service with a REST API layer and web socket connections
	- The game state will be stored in memory
	- This game service will initially only support a single game at one time
	- Test the REST API manually with Postman, and then create automated scripts to test the REST API and the web sockets connections
	- The game service has a hard-coded game already set up, and the users will pass their their authentication tokens when they want to do something
	- The API should respond with an appropriate error when the user tries to do something that is not allowed, such as making a bad move or trying to play the game before the placement phase has been completed
	- The API should allow the user to reconnect and retrieve the current game state at any time
	- The game should be recoverable if the connection gets broken
	- I'm envisioning connecting via a call to a REST API for the initial handshake and then have everything else handled via a web socket connection through which streams of data flow both ways.
5. Create a very basic user service which authenticates two hard-coded users, and issues hardcoded tokens for use with the game service.
6. Modify game service to be able to use the tokens generated by the user service
7. Create the command-line client application, which should be able login and play a full game
8. Create wireframes for web application to demonstrate functionality and flow
9. Create static designs for web application
10. Create static HTML pages with styles for web application
11. Implement basic web application with simple login screen that either starts a new game or continues existing game
12. Create data service to store information regarding users and games in a MongoDB database
13. Enhance the game service to use the data service for storing and retrieving data
	- Each user can only play one game at a time, which can be left in progress for an indefinite period of time.
	- A user who has a game in progress can resume it at any time, although they can't do anything if the opponent is not present.
	- A user can abandon a game, in which case it ends and both players are free to start another game
14. Enhance the user service to do the registration, authentication, and user management functionality necessary for real user accounts
	- Username/password authentication
	- Google authentication?
	- Github authentication?
15. Enhance game service to handle multiple users playing games at once
	- Each user can only play one game at a time
16. Create a game admin service that allows a new game to be created 
	- This service can only be accessed internally by other services
17. Create a basic metagame service to match two players to a game
	- Players can register interest in starting a new game
	- Service validates that the player isn't currently in a game
	- Service established a web socket connection to notify the player of a game match. If the web connection is broken, then the user is forgotten by the service and has to register interest again.
	- When two players have register interest, they are matched with each other, and a game is created.
	- The information regarding the new game is sent back to the players and their clients then need to connect to the game service to play the game
	- The metadata service can make a call to the game service to create the game. However, this should be an admin-related function that is not accessible to the public. We'll likely need some sort of internal admin service to handle this.
15. Enhance the web application to make use of the new user, game, metagame functionality
	- Users should be able to log in, start a game and wait for someone to join
	- If they are already in a game, and the other player isn't connected, they must wait for other player to connect
	- User can abandon game at any time
	- After abandoning a game, a user can start a new one
	- User can log out
	- Landing page should contain functionality that is available when not in a game
16. Enhance web application and services to handle multiple games per user
	- Metagame service will be greatly expanded
	- Users can see all their games, whether their opponent is connected, and if it is their turn
	- Users should be able to switch between multiple game easily
	- User should be notified when it is their turn in a game they are playing
		- Perhaps we can display some sort of notification badge that displays a game switcher widget when clicked on, or we can have a sidebar with status badges when an opponent is connected and another status badge when it is the player's turn.
	- User should be able to start a new game without an opponent and then wait for matchmaking while playing other games
	- This enhancement is a bit vague right now, and will be refined as I get close to implementing it.
17. Create an admin service
	- Externally available, but only allows admin users to use it
	- Can make calls to the game admin service
	- Can make calls to the user management service
	- I need to define exactly what this will do, but it should contain everything needed for an admin user to monitor what's going on and make any necessary changes.
18. Enhance web application to allow the usage of admin features
	- We don't know the details of this yet. We'll have to define them as we get closer to implementing this feature and we know more about what the admin service can do.
17. Implement bonus features

This is a lot of work, so the features toward the end may not happen or may be a long time coming. We'll see!
